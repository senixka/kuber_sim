# Генератор трейсов

## Использование

Поместите все файлы шаблонов в директорию `./data_in`.
Запустите генератор:
```sh
python3 generate.py
```
Для каждого шаблонного файла сгенерированный трейс будет находиться в директории `./data_out`.

## Описание формата шаблонна

Для генерации трейса генератору требуется передать файл - шаблон. Каждая строка такого файла должна иметь вид:

`number_of_collapses template_string`, где `template_string` - шаблонная строка, `number_of_collapses` - количество коллапсов шаблонной строки.

Теперь нужно определить, что такое коллапс шаблонной строки. Рассмотрим выражение вида: `$a^b$` - при его коллапсированни, выражение превратиться в целое число, которое будет выбрано случайно из диапазона `[a, b]` с равномерным распределением. Если `a` и `b` оба целые, то случайное число будет выбрано целым. Если среди `a` и `b` есть нецелое (в записи есть точка), то случайное число будет выбрано действительным. Таким образом, в шаблоне строки можно указывать конструкции вида `$a^b$`, и они все одновременно будут коллапсировать, создавая строку со случайными значениями.

Например, следующая строка:`1000 $1^10$,15,key:$-5^5$`, при попадании в генератор раскроется в 1000 строк, некоторые из которых могут иметь вид: `3,15,key:-2`. В директории `./data_in` уже есть пример шаблонного файла, из которого генерируется тестовый трейс.
